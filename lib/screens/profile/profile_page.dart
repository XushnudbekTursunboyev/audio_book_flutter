import 'package:adaptive_theme/adaptive_theme.dart';import 'package:audio_book_flutter/data/source/local/pref/my_shared_pref.dart';import 'package:audio_book_flutter/screens/main/ui/home_screen.dart';import 'package:flutter/material.dart';class ProfilePage extends StatefulWidget {  const ProfilePage({super.key});  @override  State<ProfilePage> createState() => _ProfilePageState();}class _ProfilePageState extends State<ProfilePage> {  @override  Widget build(BuildContext context) {    return Scaffold(      body: Stack(        children: [          Image.asset("assets/images/bg_rectangle.png"),          SafeArea(              child: Padding(            padding: const EdgeInsets.all(17.0),            child: Column(              children: [                Row(                  children: [                    InkWell(                        onTap: () {                          Navigator.pushReplacement(                            context,                            PageRouteBuilder(                              pageBuilder:                                  (context, animation, secondaryAnimation) =>                                      const HomeScreen(),                              transitionsBuilder: (context, animation,                                  secondaryAnimation, child) {                                var begin = const Offset(-1.0, 0.0);                                var end = Offset.zero;                                var curve = Curves.easeInOut;                                var tween = Tween(begin: begin, end: end)                                    .chain(CurveTween(curve: curve));                                var offsetAnimation = animation.drive(tween);                                return SlideTransition(                                  position: offsetAnimation,                                  child: child,                                );                              },                            ),                          );                        },                        child: const Icon(Icons.arrow_back_rounded,                            color: Colors.white)),                    const Spacer(),                    const Text(                      'Profile',                      style: TextStyle(                        color: Colors.white,                        fontSize: 20,                        fontFamily: 'Uni Neue',                        fontWeight: FontWeight.w700,                        height: 0,                      ),                    ),                    const Spacer(),                    Image.asset("assets/icons/ic_edit.png",                        height: 22, width: 22)                  ],                ),                const SizedBox(height: 30),                Stack(                  alignment: Alignment.center,                  children: [                    Image.asset('assets/icons/pl_user.png',                        height: 130, width: 130),                    if (MySharedPreference.getAvatar() != null && MySharedPreference.getAvatar()!.contains("file:///"))                      ClipRRect(                        borderRadius: BorderRadius.circular(100),                        child: Image.network(                          MySharedPreference.getAvatar() ?? "",                          height: 130,                          width: 130,                        ),                      ),                  ],                ),                const SizedBox(height: 50),                Text(                  MySharedPreference.getFullName() ?? "Unknown",                  style: const TextStyle(                    color: Colors.white,                    fontSize: 24,                    fontFamily: 'Uni Neue',                    fontWeight: FontWeight.w700,                    height: 0,                  ),                ),                const SizedBox(height: 70),                ProfileItem(                  title: "Email",                  value: MySharedPreference.getEmail() ?? "Unknown",                ),                const SizedBox(height: 20),                Column(                  children: [                    Row(                      children: [                        const Text(                          "Enable Dark Mode",                          style: TextStyle(                            color: Color(0xFFF26B6C),                            fontSize: 14,                            fontFamily: 'Uni Neue',                            fontWeight: FontWeight.w700,                            height: 0,                          ),                        ),                        const Spacer(),                        Switch(                            activeColor: const Color(0xFFF26B6C),                            value: MySharedPreference.getTheme() ?? false,                            onChanged: (newValue) {                              setState(() {                                MySharedPreference.setTheme(newValue);                                if (MySharedPreference.getTheme() == true) {                                  AdaptiveTheme.of(context).setDark();                                } else {                                  AdaptiveTheme.of(context).setLight();                                }                              });                            })                      ],                    ),                    const SizedBox(height: 10),                    const Divider(color: Color(0xFFF2F2F2))                  ],                )              ],            ),          ))        ],      ),    );  }}class ProfileItem extends StatelessWidget {  final String title;  final String value;  const ProfileItem({Key? key, required this.title, required this.value})      : super(key: key);  @override  Widget build(BuildContext context) {    return Column(      children: [        Row(          children: [            Text(              title,              style: const TextStyle(                color: Color(0xFFF26B6C),                fontSize: 14,                fontFamily: 'Uni Neue',                fontWeight: FontWeight.w700,                height: 0,              ),            ),            const Spacer(),            SelectableText(              value,              style: const TextStyle(                color: Color(0xFF787878),                fontSize: 14,                fontFamily: 'Uni Neue',                fontWeight: FontWeight.w700,                height: 0,              ),            ),          ],        ),        const SizedBox(height: 10),        const Divider(color: Color(0xFFF2F2F2))      ],    );  }}